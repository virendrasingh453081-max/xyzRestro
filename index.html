<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>XYZ RESTAURANT - Home</title>
<style>
  :root{
    --accent:#ff5a5f;
    --muted:#666;
    --card-bg: rgba(255,255,255,0.95);
    --glass: rgba(255,255,255,0.07);
    --shadow: 0 6px 20px rgba(2,6,23,0.12);
    --radius: 12px;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:#fafafa;color:#111;}
  /* background image */
  body::before{
    content:"";
    position:fixed;inset:0;
    background: url('background.png') center/cover no-repeat;
    opacity:0.12;
    pointer-events:none;
    z-index:0;
    filter: blur(1px);
  }
  header{
    position:sticky;top:0;background:linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
    backdrop-filter: blur(6px);
    z-index:10;padding:14px 16px;display:flex;align-items:center;gap:12px;box-shadow:var(--shadow);
  }
  .brand{font-weight:800;font-size:18px;color:#222;letter-spacing:1px}
  nav a{margin-left:12px;text-decoration:none;color:var(--muted);font-weight:600}
  .container{max-width:1100px;margin:28px auto;padding:0 16px;position:relative;z-index:2}
  .hero{
    display:grid;grid-template-columns:1fr 360px;gap:20px;align-items:center;margin-bottom:20px;
  }
  .welcome-card{background:var(--card-bg);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow)}
  .welcome-card h1{margin:0 0 8px;font-size:28px;color:#111}
  .welcome-card p{margin:0 0 14px;color:var(--muted)}
  .cta-row{display:flex;gap:10px;flex-wrap:wrap}
  .btn{background:var(--accent);color:white;padding:10px 14px;border-radius:10px;border:0;font-weight:700;cursor:pointer;box-shadow:0 6px 18px rgba(255,90,95,0.18)}
  .btn.secondary{background:transparent;border:1px solid rgba(0,0,0,0.06);color:#222}
  .person-card{background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.85));border-radius:var(--radius);padding:18px;display:flex;align-items:center;gap:12px;box-shadow:var(--shadow)}
  .person-card img{width:84px;height:84px;border-radius:12px;object-fit:cover}
  .person-card h3{margin:0;font-size:18px}
  /* quick links grid */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin-top:18px}
  .card{background:var(--card-bg);border-radius:12px;padding:14px;box-shadow:var(--shadow)}
  .card h4{margin:0 0 6px}
  .muted{color:var(--muted);font-size:14px}
  /* floating cart button bottom */
  .cart-fab{
    position:fixed;right:18px;bottom:18px;background:linear-gradient(45deg,var(--accent),#ff7b7f);color:white;padding:12px 16px;border-radius:999px;display:flex;gap:10px;align-items:center;box-shadow:0 10px 30px rgba(0,0,0,0.18);z-index:60;cursor:pointer
  }
  .cart-fab .count{background:rgba(255,255,255,0.15);padding:6px 10px;border-radius:999px;font-weight:700}
  footer{max-width:1100px;margin:40px auto;padding:18px 16px;color:var(--muted);font-size:14px}
  @media (max-width:880px){
    .hero{grid-template-columns:1fr;gap:12px}
    .person-card img{width:74px;height:74px}
  }
</style>
</head>
<body>
<header>
  <div class="brand">XYZ RESTAURANT</div>
  <nav style="margin-left:auto">
    <a href="index.html">Home</a>
    <a href="starters.html">Starters</a>
    <a href="maincourse.html">Main Course</a>
    <a href="desserts.html">Desserts</a>
    <a href="drinks.html">Drinks</a>
  </nav>
</header>

<main class="container">
  <section class="hero">
    <div class="welcome-card">
      <h1>Welcome to XYZ RESTAURANT</h1>
      <p class="muted">A modern dining experience — taste crafted, served with love. Explore our menu and order quickly using the cart (works across pages).</p>
      <div class="cta-row">
        <button class="btn" onclick="location.href='starters.html'">Order Starters</button>
        <button class="btn secondary" onclick="location.href='maincourse.html'">Main Course</button>
      </div>

      <div style="margin-top:18px">
        <div style="display:flex;gap:10px;align-items:center">
          <div style="font-weight:700">How it works</div>
          <div class="muted" style="font-size:13px">Add items → open cart → Checkout to WhatsApp</div>
        </div>
      </div>
    </div>

    <aside class="person-card">
      <img src="person.png" alt="Welcome person (replace with your own)"/>
      <div>
        <h3>Hello! I'm your host</h3>
        <div class="muted">We're ready to serve. Tap any menu to start ordering.</div>
      </div>
    </aside>
  </section>

  <section class="grid">
    <div class="card">
      <h4>Popular: Paneer Tikka</h4>
      <div class="muted">Grilled paneer cubes in spicy marinade.</div>
    </div>
    <div class="card">
      <h4>Popular: Butter Chicken</h4>
      <div class="muted">Classic rich tomato butter gravy with tender chicken.</div>
    </div>
    <div class="card">
      <h4>Family Meals</h4>
      <div class="muted">Large platters for sharing — choose from combos.</div>
    </div>
    <div class="card">
      <h4>Quick Drinks</h4>
      <div class="muted">Chilled beverages & mocktails.</div>
    </div>
  </section>
</main>

<!-- Floating cart (shared across all pages). Badge will update via JS -->
<div class="cart-fab" id="cartFab" onclick="openCart()">
  <div style="font-weight:800">Cart</div>
  <div class="count" id="cartCount">0</div>
  <div id="cartTotal" style="font-weight:700">₹0</div>
</div>

<!-- Cart drawer modal -->
<div id="cartDrawer" style="display:none;position:fixed;right:0;bottom:0;top:0;width:420px;max-width:95%;background:white;box-shadow: -10px 0 40px rgba(0,0,0,0.2);z-index:80;padding:18px;overflow:auto;">
  <div style="display:flex;justify-content:space-between;align-items:center;">
    <h3 style="margin:0">Your Cart</h3>
    <button onclick="closeCart()" style="border:0;background:transparent;font-size:18px;cursor:pointer">✕</button>
  </div>
  <div id="cartItems" style="margin-top:12px"></div>
  <div style="margin-top:12px;border-top:1px solid #eee;padding-top:12px;display:flex;justify-content:space-between;align-items:center">
    <div>
      <div class="muted">Subtotal</div>
      <div id="drawerSubtotal" style="font-weight:800">₹0</div>
    </div>
    <div style="text-align:right">
      <button class="btn" onclick="checkout()">Checkout (WhatsApp)</button>
    </div>
  </div>
</div>

<footer>© XYZ RESTAURANT — built with a clean HTML-only template. Replace images background.png and person.png as needed.</footer>

<script>
/* Shared cart system - localStorage key 'xyz_cart' */
/* Index page has no menuItems but still loads cart utilities */
const CART_KEY = 'xyz_cart';

/* --- Cart utilities (shared across pages) --- */
function getCart(){
  try{
    return JSON.parse(localStorage.getItem(CART_KEY) || '[]');
  } catch(e){ return [];}
}
function saveCart(cart){ localStorage.setItem(CART_KEY, JSON.stringify(cart)); updateCartFab(); }
function updateCartFab(){
  const cart = getCart();
  let count = 0, total = 0;
  cart.forEach(i=>{ count += i.qty; total += i.qty * i.price; });
  document.getElementById('cartCount').textContent = count;
  document.getElementById('cartTotal').textContent = '₹' + total.toFixed(2);
}
function openCart(){
  renderCart();
  document.getElementById('cartDrawer').style.display = 'block';
}
function closeCart(){ document.getElementById('cartDrawer').style.display = 'none'; }

/* render cart drawer items */
function renderCart(){
  const container = document.getElementById('cartItems');
  const cart = getCart();
  if(!container) return;
  container.innerHTML = '';
  if(cart.length === 0){
    container.innerHTML = '<div class="muted">Your cart is empty.</div>';
    document.getElementById('drawerSubtotal').textContent = '₹0';
    return;
  }
  cart.forEach((it, idx) => {
    const node = document.createElement('div');
    node.style.display='flex';node.style.justifyContent='space-between';node.style.alignItems='center';
    node.style.padding='8px 0';node.style.borderBottom='1px solid #f1f1f1';
    node.innerHTML = `
      <div style="flex:1">
        <div style="font-weight:700">${escapeHtml(it.name)}</div>
        <div class="muted">₹${it.price.toFixed(2)} × ${it.qty} = ₹${(it.price*it.qty).toFixed(2)}</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button style="padding:6px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer" onclick="changeQty(${idx}, -1)">−</button>
        <div style="min-width:28px;text-align:center">${it.qty}</div>
        <button style="padding:6px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer" onclick="changeQty(${idx}, 1)">+</button>
        <button style="margin-left:8px;border:0;background:transparent;color:#ff5a5f;cursor:pointer" onclick="removeFromCart(${idx})">Remove</button>
      </div>
    `;
    container.appendChild(node);
  });
  const subtotal = cart.reduce((s,i)=>s + i.qty*i.price,0);
  document.getElementById('drawerSubtotal').textContent = '₹' + subtotal.toFixed(2);
}

function changeQty(index, delta){
  const cart = getCart();
  if(!cart[index]) return;
  cart[index].qty = Math.max(0, cart[index].qty + delta);
  if(cart[index].qty === 0) cart.splice(index,1);
  saveCart(cart);
  renderCart();
}
function removeFromCart(index){
  const cart = getCart();
  cart.splice(index,1);
  saveCart(cart);
  renderCart();
}

/* Checkout: redirect to WhatsApp with encoded message including items, qty, price, total. Table number X is included as required */
function checkout(){
  const cart = getCart();
  if(cart.length === 0){ alert('Cart is empty.'); return; }
  const lines = [];
  lines.push('Order from XYZ RESTAURANT');
  lines.push('Table: X');
  lines.push('----');
  let subtotal = 0;
  cart.forEach(i=>{
    lines.push(`${i.name} x ${i.qty} - ₹${(i.price * i.qty).toFixed(2)}`);
    subtotal += i.qty * i.price;
  });
  lines.push('----');
  lines.push('Subtotal: ₹' + subtotal.toFixed(2));
  lines.push('(Amount displayed WITHOUT GST)');
  const message = encodeURIComponent(lines.join('\n'));
  const waNumber = '91XXXXXXXXXX'; // replace with your number (country code + number, no + sign)
  // open whatsapp
  window.open('https://wa.me/' + waNumber + '?text=' + message, '_blank');
}

/* escape to prevent XSS in text nodes */
function escapeHtml(s){ return String(s).replace(/[&<>"']/g, function(m){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]; }); }

/* initialize */
updateCartFab();
</script>
</body>
</html>
