<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>XYZ RESTAURANT - Starters</title>
<style>
  :root{--accent:#ff5a5f;--muted:#666;--card-bg:rgba(255,255,255,0.95);--radius:12px;--shadow:0 6px 20px rgba(2,6,23,0.12)}
  body{margin:0;font-family:Inter,system-ui,Arial;background:#fafafa;color:#111}
  body::before{content:"";position:fixed;inset:0;background:url('background.png') center/cover no-repeat;opacity:0.12;pointer-events:none;z-index:0}

  /* --- HEADER --- */
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    position: sticky;
    top: 0;
    background: linear-gradient(90deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));
    backdrop-filter: blur(8px);
    z-index: 10;
  }
  .brand {
    font-weight: 800;
    font-size: 18px;
  }
  nav {
    display: flex;
    gap: 12px;
  }
  nav a {
    text-decoration: none;
    color: var(--muted);
    font-weight: 700;
  }
  .menu-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
  }
  @media (max-width: 700px) {
    nav {
      display: none;
      flex-direction: column;
      position: absolute;
      top: 60px;
      right: 16px;
      background: white;
      padding: 10px;
      border-radius: 10px;
      box-shadow: var(--shadow);
    }
    nav a {
      margin: 8px 0;
      color: #111;
    }
    nav.open {
      display: flex;
    }
    .menu-toggle {
      display: block;
    }
  }

  .container{max-width:1100px;margin:18px auto;padding:0 16px;position:relative;z-index:2}
  .page-title{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:14px;margin-top:18px}
  .card{background:var(--card-bg);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px}
  .card h3{margin:0;font-size:18px}
  .desc{color:var(--muted);font-size:14px}
  .price{font-weight:800}
  .controls{display:flex;gap:8px;align-items:center;margin-top:auto}
  .qty{width:72px;display:flex;align-items:center;border:1px solid #eee;border-radius:10px;overflow:hidden}
  .qty button{flex:0 0 36px;border:0;background:transparent;cursor:pointer;padding:8px}
  .qty input{width:30px;border:0;text-align:center;font-weight:700}
  .add{background:var(--accent);color:#fff;padding:8px 10px;border-radius:10px;border:0;cursor:pointer;font-weight:800}
  .muted{color:var(--muted)}
  .cart-fab{position:fixed;right:18px;bottom:18px;background:linear-gradient(45deg,var(--accent),#ff7b7f);color:white;padding:12px 16px;border-radius:999px;display:flex;gap:10px;align-items:center;box-shadow:0 10px 30px rgba(0,0,0,0.18);z-index:60;cursor:pointer}
  #cartDrawer{display:none;position:fixed;right:0;bottom:0;top:0;width:420px;max-width:95%;background:white;box-shadow:-10px 0 40px rgba(0,0,0,0.2);z-index:80;padding:18px;overflow:auto}
  .toast{position:fixed;bottom:20px;right:20px;background:#333;color:white;padding:10px 20px;border-radius:8px;box-shadow:0 2px 10px rgba(0,0,0,0.3);opacity:0;transform:translateY(20px);transition:opacity 0.4s ease,transform 0.4s ease;z-index:9999;}
  @media (max-width:600px){ .qty button{flex:0 0 30px} }
</style>
</head>
<body>
<header>
  <div class="brand">XYZ RESTAURANT</div>
  <button class="menu-toggle" onclick="toggleMenu()">☰</button>
  <nav id="navMenu">
    <a href="index.html">Home</a>
    <a href="starters.html">Starters</a>
    <a href="maincourse.html">Main Course</a>
    <a href="desserts.html">Desserts</a>
    <a href="drinks.html">Drinks</a>
  </nav>
</header>

<main class="container">
  <div class="page-title">
    <div>
      <h1 style="margin:0">Starters</h1>
      <div class="muted">Crispy, zesty and perfect to begin your meal.</div>
    </div>
    <div style="display:flex;gap:8px">
      <button class="add" onclick="location.href='index.html'">Back to Home</button>
    </div>
  </div>

  <div class="grid" id="menuGrid"></div>
</main>

<div class="cart-fab" id="cartFab" onclick="openCart()">
  <div style="font-weight:800">Cart</div>
  <div class="count" id="cartCount">0</div>
  <div id="cartTotal" style="font-weight:700">₹0</div>
</div>

<div id="cartDrawer">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <h3 style="margin:0">Your Cart</h3>
    <div><button onclick="closeCart()" style="border:0;background:transparent;cursor:pointer">✕</button></div>
  </div>
  <div id="cartItems" style="margin-top:12px"></div>
  <div style="margin-top:12px;border-top:1px solid #eee;padding-top:12px;display:flex;justify-content:space-between;align-items:center">
    <div>
      <div class="muted">Subtotal</div>
      <div id="drawerSubtotal" style="font-weight:800">₹0</div>
    </div>
    <div>
      <button class="add" onclick="checkout()">Checkout (WhatsApp)</button>
    </div>
  </div>
</div>

<script>
const menuItems = [
  { id:'s1', name:'Paneer Tikka', price:220, desc:'Charred paneer cubes in smoky spices' },
  { id:'s2', name:'Crispy Babycorn', price:160, desc:'Corn tossed in mild chilli & garlic' },
  { id:'s3', name:'Veg Spring Roll', price:140, desc:'Crispy rolls served with sweet chilli' },
  { id:'s4', name:'Chicken 65', price:240, desc:'Spicy deep fried chicken bites' }
];
const CART_KEY = 'xyz_cart';

function toggleMenu(){
  document.getElementById('navMenu').classList.toggle('open');
}

function renderMenu(){
  const grid = document.getElementById('menuGrid');
  grid.innerHTML = '';
  menuItems.forEach(item=>{
    const card=document.createElement('div');
    card.className='card';
    card.innerHTML=`
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:10px">
        <div>
          <h3>${escapeHtml(item.name)}</h3>
          <div class="desc">${escapeHtml(item.desc)}</div>
        </div>
        <div class="price">₹${item.price.toFixed(2)}</div>
      </div>
      <div class="controls">
        <div class="qty">
          <button onclick="changeLocalQty(this,-1)">−</button>
          <input type="number" value="1" min="1" />
          <button onclick="changeLocalQty(this,1)">+</button>
        </div>
        <button class="add" onclick="addToCart('${item.id}')">Add to Cart</button>
      </div>`;
    card.dataset.itemId=item.id;
    grid.appendChild(card);
  });
}

function changeLocalQty(btn,delta){
  const input=btn.parentElement.querySelector('input');
  const v=Math.max(1,parseInt(input.value||'1',10)+delta);
  input.value=v;
}

function getCart(){ try{return JSON.parse(localStorage.getItem(CART_KEY)||'[]');}catch(e){return [];} }
function saveCart(cart){ localStorage.setItem(CART_KEY,JSON.stringify(cart)); updateCartFab(); }
function updateCartFab(){
  const cart=getCart(); let count=0,total=0;
  cart.forEach(i=>{count+=i.qty; total+=i.qty*i.price;});
  document.getElementById('cartCount').textContent=count;
  document.getElementById('cartTotal').textContent='₹'+total.toFixed(2);
}

function showToast(msg){
  const toast=document.createElement('div');
  toast.className='toast';
  toast.textContent=msg;
  document.body.appendChild(toast);
  setTimeout(()=>{toast.style.opacity='1';toast.style.transform='translateY(0)';},100);
  setTimeout(()=>{toast.style.opacity='0';toast.style.transform='translateY(20px)';setTimeout(()=>toast.remove(),400);},2000);
}

function addToCart(itemId){
  const item=menuItems.find(m=>m.id===itemId);
  if(!item)return;
  const card=document.querySelector(`#menuGrid .card[data-item-id='${itemId}']`);
  const qtyInput=card.querySelector('input');
  const qty=Math.max(1,parseInt(qtyInput.value||'1',10));
  const cart=getCart();
  const exist=cart.find(c=>c.id===itemId);
  if(exist){ exist.qty+=qty; } else { cart.push({id:item.id,name:item.name,price:item.price,qty:qty}); }
  saveCart(cart);
  qtyInput.value=1;
  showToast(item.name + " added to cart ✅");
}

function openCart(){ renderCart(); document.getElementById('cartDrawer').style.display='block'; }
function closeCart(){ document.getElementById('cartDrawer').style.display='none'; }

function renderCart(){
  const container=document.getElementById('cartItems');
  const cart=getCart();
  container.innerHTML='';
  if(cart.length===0){container.innerHTML='<div class="muted">Cart is empty</div>';document.getElementById('drawerSubtotal').textContent='₹0';return;}
  cart.forEach((it,idx)=>{
    const div=document.createElement('div');
    div.style.display='flex';div.style.justifyContent='space-between';div.style.alignItems='center';div.style.padding='8px 0';div.style.borderBottom='1px solid #f6f6f6';
    div.innerHTML=`
      <div>
        <div style="font-weight:700">${escapeHtml(it.name)}</div>
        <div class="muted">₹${it.price.toFixed(2)} × ${it.qty} = ₹${(it.price*it.qty).toFixed(2)}</div>
      </div>
      <div style="display:flex;gap:8px;align-items:center">
        <button onclick="changeQty(${idx},-1)" style="padding:6px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer">−</button>
        <div style="min-width:28px;text-align:center">${it.qty}</div>
        <button onclick="changeQty(${idx},1)" style="padding:6px;border-radius:8px;border:1px solid #eee;background:#fff;cursor:pointer">+</button>
        <button onclick="removeFromCart(${idx})" style="margin-left:8px;border:0;background:transparent;color:#ff5a5f;cursor:pointer">Remove</button>
      </div>`;
    container.appendChild(div);
  });
  const subtotal=cart.reduce((s,i)=>s+i.qty*i.price,0);
  document.getElementById('drawerSubtotal').textContent='₹'+subtotal.toFixed(2);
}

function changeQty(index,delta){
  const cart=getCart(); if(!cart[index])return;
  cart[index].qty=Math.max(0,cart[index].qty+delta);
  if(cart[index].qty===0)cart.splice(index,1);
  saveCart(cart); renderCart();
}
function removeFromCart(index){
  const cart=getCart(); cart.splice(index,1);
  saveCart(cart); renderCart();
}

function checkout(){
  const cart=getCart(); if(cart.length===0){showToast("Cart is empty!");return;}
  const lines=[];
  lines.push('Order from XYZ RESTAURANT'); lines.push('Table: X'); lines.push('----');
  let subtotal=0;
  cart.forEach(i=>{lines.push(`${i.name} x ${i.qty} - ₹${(i.price*i.qty).toFixed(2)}`); subtotal+=i.qty*i.price;});
  lines.push('----'); lines.push('Subtotal: ₹'+subtotal.toFixed(2)); lines.push('(Amount displayed WITHOUT GST)');
  const msg=encodeURIComponent(lines.join('\n'));
  const waNumber='91XXXXXXXXXX';
  window.open('https://wa.me/'+waNumber+'?text='+msg,'_blank');
}

function escapeHtml(s){return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}

renderMenu(); updateCartFab();
</script>
</body>
</html>
